
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Understand the project structure &#8212; Start Now!</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=e068d0b0"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'getting-started/structure';</script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Know the useful commands" href="useful-commands.html" />
    <link rel="prev" title="Get the code" href="get-the-code.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Start Now! - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Start Now! - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Get Started</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="devenv.html">Development environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="get-the-code.html">Get the code</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Understand the project structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="useful-commands.html">Know the useful commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="customizing.html">Make it your own</a></li>
<li class="toctree-l2"><a class="reference internal" href="get-updates.html">Get updates</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../project-development/index.html">Developer Guides</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../project-development/build.html">Build instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project-development/devflow.html">Development Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project-development/modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project-development/third_party.html">Third party modules</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../documentation/index.html">Documentation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/doxygen-doc.html">Documenting code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/sphinx-doc.html">Sphinx and restructured text</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tools/index.html">Project Tools</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../version.html">Version</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/abdes/asap" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/abdes/asap/issues/new?title=Issue%20on%20page%20%2Fgetting-started/structure.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/getting-started/structure.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Understand the project structure</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#software-architecture-the-module-viewtype">Software Architecture: The Module Viewtype </a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#project-layout">Project Layout</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#general-layout-of-a-c-source-module">General Layout of a C++ source Module</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="understand-the-project-structure">
<span id="project-structure"></span><h1>Understand the project structure<a class="headerlink" href="#understand-the-project-structure" title="Link to this heading">#</a></h1>
<p>Last Updated on 2025-06-01</p>
<p>Compared to other languages such JavaScript, Java or Rust, C++ seriously lacks
built-in capabilities for defining, building and using modules. Many competing
approaches exist such as <a class="reference external" href="https://conan.io/">Conan</a>, <a class="reference external" href="https://vcpkg.io/">vcpkg</a>, <a class="reference external" href="https://github.com/cpp-pm/hunter">Hunter</a>, etc. None
of them completely solves the problem and the worst part is that they often are
mutually exclusive.</p>
<p>The choices made in the <cite>asap</cite> starter project with regard to the project layout
and to how modules (internal and 3rd party) are integrated and managed do not
exclude the use of package managers or lock you down to one approach or another.</p>
<p>The emphasis is put on a clean and extensible project layout and a build system
that stays as much as possible within the commonly used things in CMake.</p>
<section id="software-architecture-the-module-viewtype">
<h2>Software Architecture: The Module Viewtype <a class="footnote-reference brackets" href="#f1" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a><a class="headerlink" href="#software-architecture-the-module-viewtype" title="Link to this heading">#</a></h2>
<p>Decomposing a system into manageable units remains one of the most common ways
to think about the structure of the system. Often, it also determines how a
system’s source code is partitioned into separate parts, what kind of interfaces
exist between these parts and how these parts are aggregated into larger
ensembles.</p>
<p>In the context of <cite>asap</cite> we adopt a broad definition of the <cite>module</cite> concept as
an implementation unit of software that provides a coherent unit of
functionality. Because we are dealing specifically with C++ development, that
implementation unit will be a set of C++ files, configuration files, static data
files, etc. In addition to that,we also deal with documentation files, and
various build scripts, including CMake and other tools.</p>
<p>Modules can be related to each others in different ways:</p>
<ul class="simple">
<li><p><strong>A is part of B</strong>: this type of relation can indicate simple aggregation,
such as when a module is included into one or many others, or could indicate a
more sophisticated decomposition relationship.</p></li>
<li><p><strong>A depends on B</strong>: this relation can take several forms such as uses,
allowed-to-use, sends-data-to, transfers-control-to, and so forth.</p></li>
<li><p><strong>A is a B</strong>: this one defines a generalization relationship and in general
would not impact the macro-level structure of the project. We do however use
it in this starter project to define library and executable modules for which
we provide generic reusable CMake build scripts that can be simply extended.</p></li>
</ul>
<p>To the maximum possible extent we want to preserve and faithfully map the
modules and their relations in the software architecture to the development
infrastructure. Implementing a module always results in many separate files,
such as those that contain the source code, files that have to be included and
usually contain definitions, files that describe how to build an executable, and
files that are the result of translating, or compiling, the module. Those files
need to be organized so as not to lose control and integrity of the system.
Configuration management techniques usually do this job: in the simplest case, a
hierarchy of directories in a file system.</p>
<p>Assuming this starter project is used to build a simple application that reads
and writes files on the local filesystem, a representation of the application
architecture in a module decomposition view would look like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>┌─────────────────────────────────────────────────────────────────┐
│ ASAP Application                                                │
│  (System)                                                       │
│  ┌─────────────────────┐                          ┌──────────┐  │
│  │                     ├──────────────────────────►          │  │
│  │                     │                          │          │  │
│  │                     │  ┌───────────────────┐   │          │  │
│  │                     │  │                   │   │          │  │
│  │                     │  │ logging framework │   │          │  │
│  │                     │  │                   │   │          │  │
│  │                     │  │               3PM │   │          │  │
│  │                     │  └───────────▲───────┘   │          │  │
│  │                     │              │           │          │  │
│  │       Main          │              │           │          │  │
│  │                     │  ┌───────────┴───────┐   │          │  │
│  │    Application      │  │  common           │   │          │  │
│  │                     │  │                   │   │          │  │
│  │       Module        │  │                   │   │          │  │
│  │                     ├──►                   ├───►          │  │
│  │                     │  │                   │   │   unit   │  │
│  │                     │  │                   │   │          │  │
│  │                     │  └───▲───────────────┘   │  testing │  │
│  │                     │      │                   │          │  │
│  │                     │  ┌───┴───────────────┐   │ framework│  │
│  │                     │  │                   │   │          │  │
│  │                     ├──►  other module     ├───►          │  │
│  │                     │  │                   │   │          │  │
│  │                     │  │                   │   │      3PM │  │
│  └─────────────────────┘  └───────────────────┘   └──────────┘  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
</pre></div>
</div>
<div class="margin admonition note">
<p class="admonition-title">Note</p>
<p>Composition is allowed at any depth within the structure of an <cite>asap</cite> based
project. Often, it is implemented using a <cite>git</cite> submodule.</p>
</div>
<p>The arrow in the diagram above mainly refer to a uses relationship. Notice how
the modules can be 3rd party modules (indicated with a <cite>3PM</cite> sticker), provided
by <cite>asap</cite> as reusable components or specifically made for the application.</p>
<p>The <cite>Unit Testing Framework</cite> is extensively used in the project but only during
development. It won’t be part of the final application package for deployment
for instance. Such modules exist within the project and the CMake build system
can clear make the difference between the artifacts intended for use during
development only vs. the ones destined for deployment.</p>
</section>
<section id="project-layout">
<h2>Project Layout<a class="headerlink" href="#project-layout" title="Link to this heading">#</a></h2>
<p>Based on the module decomposition view above, we now can look at how this
translates into the hierarchy of directories forming the <cite>asap</cite> project layout.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.
├── &lt;.git&gt;                          I
├── &lt;.sphinx&gt;
├── &lt;build&gt;
│   ----------------------------------------
├── &lt;.github&gt;
├── &lt;.husky&gt;
├── &lt;.vscode&gt;
├── &lt;doxygen&gt;                       II
├── .clang-format
├── .clang-tidy
├── .commitlintrc.json
├── .gitattributes
├── .gitignore
├── .gitmodules
├── .runsettings
├── .versionrc.json
├── requirements.txt
│   ----------------------------------------
├── &lt;doc&gt;                           III
│   ----------------------------------------
├── &lt;deploy&gt;                        IV
│   ----------------------------------------
├── &lt;data&gt;                          V
│   ----------------------------------------
├── &lt;templates&gt;                     VI
│   ----------------------------------------
├── &lt;common&gt;
├── &lt;filesystem&gt;
├── &lt;third_party&gt;                   VII
│   ├── &lt;fmt&gt;
│   ├── &lt;spdlog&gt;
│   └── CMakeLists.txt
│   ----------------------------------------
├── &lt;cmake&gt;
├── CMakeLists.txt                  VIII
├── asap-config.cmake
│   ----------------------------------------
├── AUTHORS
├── LICENSE                          IX
├── README.md
└── CHANGELOG.md
</pre></div>
</div>
<p>The above diagram shows a typical layout with directories and files of a startup
project based on asap. The actual files and directories will of course differ
from project to project based on how you customize it to add or remove things
from the starting state.</p>
<p>The files and directories have been grouped into clusters based on their common
purpose. We’ll explain what each cluster role is and what are the important
directories and files it contains.</p>
<div class="pst-scrollable-table-container"><table class="table">
<colgroup>
<col style="width: 10.0%" />
<col style="width: 90.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Part</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>I</p></td>
<td><p>Transient directories created by the various tools used during the
development. Items other than the <cite>.git</cite> directory will not be present
when the project is freshly cloned. The <cite>.sphinx</cite> directory holds the
python virtual env used for the documentation generation. The <cite>build</cite>
directory is where the <cite>cmake</cite> build will happen and all build artifacts
will be located.</p></td>
</tr>
<tr class="row-odd"><td><p>II</p></td>
<td><p>Various files used to configure and customize the behavior of tools used
in the development. Their usage will be explained in the corresponding
sections of the documentation.</p></td>
</tr>
<tr class="row-even"><td><p>III</p></td>
<td><p>This is where all project documentation resides. The documentation system
primarily uses <cite>sphinx</cite> and <cite>restructuredText</cite> but occasionally markdown
files can also be used. Maintaining the project documentation is an
important task which will be thoroughly explained separately.</p></td>
</tr>
<tr class="row-odd"><td><p>IV</p></td>
<td><p>This directory holds data and configuration files required to build the
final deployable package of the project artifacts. These packages are
often operating system dependent.</p></td>
</tr>
<tr class="row-even"><td><p>V</p></td>
<td><p>This directory is intentionally present in the starter project even if no
data is inside to emphasize the best practice of separating application
data from code, configuration, etc… Use this place to store static data
files that need to be deployed with the system.</p></td>
</tr>
<tr class="row-odd"><td><p>VI</p></td>
<td><p>System wide templates used during the build to generate other files. If a
template is only used within a specific module, place it within its
corresponding module.</p></td>
</tr>
<tr class="row-even"><td><p>VII</p></td>
<td><p>The various modules in the system. Third party libraries are preferably
placed under the <cite>third_party</cite> directory for clear demarcation of what is
coming from outside the project. Sometimes, it is more natural or
practical to embed the third party code directly within the source code of
a system module (e.g. this is how Hedley is included inside the <cite>common</cite>
module).</p></td>
</tr>
<tr class="row-odd"><td><p>VIII</p></td>
<td><p>The CMakeLists.txt and supported scripts which are used to build the
system deployable artifacts from source code. Customization of the starter
project build to suit the real project happens primarily in the
<cite>CMakeLists.txt</cite> and <cite>asap-config.cmake</cite> files. All files under the
<cite>cmake</cite> directory are generic reusable scripts and, in general, should not
be modified.</p></td>
</tr>
<tr class="row-even"><td><p>IX</p></td>
<td><p>Various meta-information files present in each project repository. Adapt
the contents as needed to suit your project, keeping in mind the
<cite>CHANGELOG.md</cite> can be automatically maintained as described in this
documentation.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="general-layout-of-a-c-source-module">
<h2>General Layout of a C++ source Module<a class="headerlink" href="#general-layout-of-a-c-source-module" title="Link to this heading">#</a></h2>
<p>Since we are heavily using the system decomposition into modules as an
architectural principle, we’ll be creating a lot of these modules and therefore
we need to be consistent and efficient in how we layout the source code
artifacts inside each one of them.</p>
<p>I have looked at so many OpenSource projects, coding standards, recommended
project layouts,… for inspiration and while there is no holy grail for this
problem, a few best practices have emerged:</p>
<ul class="simple">
<li><p>separate test code from the module functional code. That way, it is clear
which files contribute to build the module deployable artifacts vs. testing
artifacts.</p></li>
<li><p>we’re doing C++, so we have interface files (.h) and implementation files
(.cpp) and while there is no consensus on where to put them, I have found
that it is much simpler and cleaner to keep them each in its own directory.
With modern editors, we don’t navigate code anymore based on the file browser.
We use intellisense.</p></li>
<li><p>inside the <cite>include</cite> directory, repeat the module name so that when we include
files from this module we say <cite>#include &lt;module/foo.h&gt;</cite> and not <cite>&lt;foo.h&gt;</cite>.
In coding, explicit intents are much safer than implicit intents.</p></li>
<li><p>in-house developed modules containing C++ code are much easier reused in their
source code form than in any other form. Unfortunately C++ package managers
are still far from mature. Therefore, we keep each module in its own git
repository and we embed it as a submodule when reused.</p></li>
<li><p>building a module should be descriptive. The build logic and complexity should
already be managed at the system level. We just need to describe a module to
get it included in the system. That description is in the module’s
<cite>CMakeLists.txt</cite> which almost does not contain any scripted logic.</p></li>
<li><p>each module should be properly documented. The system documentation build will
ensure modules can be referred to and get integrated into the overall
documentation.</p></li>
</ul>
<p>With these in mind, the layout of each module looks like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>│   .gitignore
│   .gitmodules
│   AUTHORS
│   CMakeLists.txt
│   LICENSE
│   README.md
│
├───doc
│
├───include
│   ├───common
│   │   └───traits
│   └───contracts
│
├───src
│
└───test
</pre></div>
</div>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="f1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>An excellent book on this topic is <a class="reference external" href="https://www.amazon.com/Documenting-Software-Architectures-Views-Beyond/dp/0201703726/ref=sr_1_1?_encoding=UTF-8&amp;camp=212361&amp;creative=380601&amp;dchild=1&amp;keywords=0201703726&amp;link_code=wql&amp;qid=1635883655&amp;s=books&amp;sr=1-1">Documenting Software Architectures:
Views and Beyond</a>
(available on Amazon, or just Google it).</p>
</aside>
</aside>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="get-the-code.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Get the code</p>
      </div>
    </a>
    <a class="right-next"
       href="useful-commands.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Know the useful commands</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#software-architecture-the-module-viewtype">Software Architecture: The Module Viewtype </a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#project-layout">Project Layout</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#general-layout-of-a-c-source-module">General Layout of a C++ source Module</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Author name not set
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022, The Authors.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>